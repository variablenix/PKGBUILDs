# Maintainer: Tino Reichardt <milky dash archlinux at mcmilk dot de>
# Contributor: CRT <crt dot 011 AT gmail.com>

pkgname=p0f
pkgver=2.0.8
pkgrel=1
pkgdesc="passive OS fingerprinting tool"
arch=('any')
license="GPL"
makedepends=('libpcap')
url="http://lcamtuf.coredump.cx/p0f.shtml"
source=(http://lcamtuf.coredump.cx/p0f/$pkgname-$pkgver.tgz)
md5sums=('1ccbcd8d4c95ef6dae841120d23c56a5')

build() {
	cd ${srcdir}/${pkgname}
	make
}

package() {
	cd ${srcdir}/${pkgname}
	install -d -Dm755 ${pkgdir}/usr/sbin
	install -d -Dm755 ${pkgdir}/etc/p0f
	install -d -Dm755 ${pkgdir}/usr/man/man1
	install -d -Dm755 ${pkgdir}/usr/share/licenses/${pkgname}
	
	install -D -m644 doc/COPYING ${pkgdir}/usr/share/licenses/${pkgname}/p0f
    	install -m744 ${srcdir}/${pkgname}/p0f p0frep ${pkgdir}/usr/sbin
	install -m644 p0f.fp p0fa.fp p0fr.fp p0fo.fp ${pkgdir}/etc/p0f
	install -m644 p0f.1 ${pkgdir}/usr/man/man1
}
